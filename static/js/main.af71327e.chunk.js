(this.webpackJsonpminesweeper=this.webpackJsonpminesweeper||[]).push([[0],{19:function(e,t,c){},32:function(e,t,c){"use strict";c.r(t);var n=c(2),a=c(14),s=c.n(a),i=(c(19),c(5)),r=c(3),l=c(1),o=c(0);function j(e){var t=e.boxContent,c=e.handleClick,n=(e.xPos,e.yPos,t.minesNearby),a=t.mineExist,s=t.stepped,i=t.flagged;return Object(o.jsx)("div",{className:"\n                cell w3-button w3-border w3-ripple ".concat(function(){var e="";return e=s?e.concat(" stepped"):e.concat(" unstepped")}(),"\n            "),onClick:function(){c()},style:s?{pointerEvents:"none"}:null,children:Object(o.jsx)("span",{className:"cell-content ".concat(function(){var e="";return a&&s&&(e=e.concat(" bomb-img")),i&&(e=e.concat(" flag-img")),e}()),children:0==n||!s||a?null:n})})}function b(e){var t=e.option,c=e.gameStatus,a=e.setGameStatus,s=e.resetMine,b={minesNearby:0,mineExist:!1,stepped:!1,flagged:!1},u=Object(n.useState)(new Array(7).fill(new Array(7).fill(b))),p=Object(i.a)(u,2),O=p[0],f=p[1],d=Object(n.useState)([]),m=Object(i.a)(d,2),v=m[0],h=m[1],g=Object(n.useState)(0),x=Object(i.a)(g,2),y=x[0],N=x[1],w=function(){return Math.floor(7*Math.random())},S=function(){for(var e=[],t=0;t<5;t++){var c=[w(),w()];e.push(c)}return e=Object(l.a)(new Set(e))},E=function(e,t){var c=[t-1,t,t+1],n=[];return[e-1,e,e+1].map((function(a){c.map((function(c){a==e&&c==t||a<0||c<0||a>6||c>6||n.push([a,c])}))})),n},C=function(e,t,c,n){var a=t[c][n];if("mine"==e)return[].concat(Object(l.a)(t.slice(0,c)),[[].concat(Object(l.a)(t[c].slice(0,n)),[Object(r.a)(Object(r.a)({},a),{},{mineExist:!0})],Object(l.a)(t[c].slice(n+1)))],Object(l.a)(t.slice(c+1)));if("mines-nearby"==e){var s=t[c][n].minesNearby;return[].concat(Object(l.a)(t.slice(0,c)),[[].concat(Object(l.a)(t[c].slice(0,n)),[Object(r.a)(Object(r.a)({},a),{},{minesNearby:s+1})],Object(l.a)(t[c].slice(n+1)))],Object(l.a)(t.slice(c+1)))}},k=function(e,t){if(O[e][t].flagged||1==O[e][t].stepped)return O;O[e][t].mineExist&&a("game-over-lost");var c=[];c.push([e,t]),0==O[e][t].minesNearby&&E(e,t).map((function(e){return c.push(e)}));var n=O,s=y;return c.map((function(e){var t=O[e[0]][e[1]];t.flagged||t.stepped||(n=[].concat(Object(l.a)(n.slice(0,e[0])),[[].concat(Object(l.a)(n[e[0]].slice(0,e[1])),[Object(r.a)(Object(r.a)({},t),{},{stepped:!0})],Object(l.a)(n[e[0]].slice(e[1]+1)))],Object(l.a)(n.slice(e[0]+1))),s++)})),N(s),n},A=function(e,t){var c=O[e][t],n=O[e][t].flagged;return O[e][t].stepped?O:[].concat(Object(l.a)(O.slice(0,e)),[[].concat(Object(l.a)(O[e].slice(0,t)),[Object(r.a)(Object(r.a)({},c),{},{flagged:!n})],Object(l.a)(O[e].slice(t+1)))],Object(l.a)(O.slice(e+1)))},P=function(){var e=O;v.map((function(t){var c=O[t[0]][t[1]];e=[].concat(Object(l.a)(e.slice(0,t[0])),[[].concat(Object(l.a)(e[t[0]].slice(0,t[1])),[Object(r.a)(Object(r.a)({},c),{},{stepped:!0,flagged:!1})],Object(l.a)(e[t[0]].slice(t[1]+1)))],Object(l.a)(e.slice(t[0]+1)))})),f(e)};return Object(n.useEffect)((function(){var e=O,t=[],c=S();c.map((function(c){e=C.apply(void 0,["mine",e].concat(Object(l.a)(c))),t.push.apply(t,Object(l.a)(E.apply(void 0,Object(l.a)(c))))})),t.map((function(t){e=C.apply(void 0,["mines-nearby",e].concat(Object(l.a)(t)))})),f(e),h(c)}),[1]),Object(n.useEffect)((function(){"game-over-lost"==c&&P(),y==49-v.length&&(a("game-over-won"),P())}),[c,y]),Object(n.useEffect)((function(){var e=new Array(7).fill(new Array(7).fill(b)),t=[],c=S();c.map((function(c){e=C.apply(void 0,["mine",e].concat(Object(l.a)(c))),t.push.apply(t,Object(l.a)(E.apply(void 0,Object(l.a)(c))))})),t.map((function(t){e=C.apply(void 0,["mines-nearby",e].concat(Object(l.a)(t)))})),f(e),h(c),a("started"),N(0)}),[s]),Object(o.jsx)("div",{className:"mine-field",children:O.map((function(e,c){return Object(o.jsx)("div",{children:e.map((function(e,n){return Object(o.jsx)(j,{boxContent:e,xPos:c,yPos:n,handleClick:function(){return e=c,a=n,"step"==t&&f(k(e,a)),void("flag"==t&&f(A(e,a)));var e,a}})}))})}))})}var u=c(4);function p(e){var t=e.gameStatus,c=e.handleReplay;return Object(o.jsxs)("div",{className:"popup ".concat(t),children:["game-over-lost"==t?"Game Over":"Won",Object(o.jsxs)("div",{className:"popup-buttons",children:[Object(o.jsx)(u.A,{href:"/",style:{height:"100px"},children:Object(o.jsx)("button",{className:"w3-button w3-ripple",children:"Exit"})}),Object(o.jsx)("button",{className:"w3-button w3-ripple",onClick:function(){return c()},children:"replay"})]})]})}function O(){var e=Object(n.useState)("step"),t=Object(i.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)("started"),r=Object(i.a)(s,2),l=r[0],j=r[1],O=Object(n.useState)(!1),f=Object(i.a)(O,2),d=f[0],m=f[1];return Object(o.jsxs)("div",{className:"game-page",children:["started"!=l&&Object(o.jsx)(p,{gameStatus:l,handleReplay:function(){m(!d)}}),Object(o.jsx)("div",{className:"w3-col l12 m12 s12",children:Object(o.jsx)(u.A,{href:"/",className:"w3-xxxlarge",style:{height:"100px"},children:Object(o.jsx)("i",{className:"fas fa-long-arrow-alt-left"})})}),Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{className:"w3-col l8 m8 s12 w3-center",children:Object(o.jsx)(b,{option:c,gameStatus:l,setGameStatus:function(e){return j(e)},resetMine:d})}),Object(o.jsxs)("div",{className:"w3-col l4 m4 s12 options",children:[Object(o.jsx)("div",{className:"w3-col l12 m12 s6",children:Object(o.jsxs)("button",{className:"option  ".concat("step"==c?"selected":""),onClick:function(){return a("step")},children:["Step ",Object(o.jsx)("i",{className:"fas fa-shoe-prints"})]})}),Object(o.jsx)("div",{className:"w3-col l12 m12 s6",children:Object(o.jsxs)("button",{className:"option ".concat("flag"==c?"selected":""),onClick:function(){return a("flag")},children:["Flag ",Object(o.jsx)("i",{className:"far fa-flag"})]})})]})]})]})}function f(){return Object(o.jsxs)("div",{className:"homepage w3-center",children:[Object(o.jsx)("div",{className:"",children:Object(o.jsx)("b",{children:"MINESWEEPER"})}),Object(o.jsx)("div",{children:Object(o.jsx)(u.A,{href:"/game-page",className:"w3-button w3-ripple",children:"Play"})})]})}var d=function(){var e={"/":function(){return Object(o.jsx)(f,{})},"/game-page":function(){return Object(o.jsx)(O,{})}},t=Object(u.useRoutes)(e);return Object(o.jsx)("div",{className:"App",children:t})},m=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,33)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;c(e),n(e),a(e),s(e),i(e)}))};s.a.render(Object(o.jsx)(d,{}),document.getElementById("root")),m()}},[[32,1,2]]]);
//# sourceMappingURL=main.af71327e.chunk.js.map