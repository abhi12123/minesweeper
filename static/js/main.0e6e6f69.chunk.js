(this.webpackJsonpminesweeper=this.webpackJsonpminesweeper||[]).push([[0],{26:function(e,t,c){},33:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c(20),s=c.n(n),i=(c(26),c(10)),r=c(8),l=c(2),o=c(1);function j(e){var t=e.boxContent,c=e.handleClick,a=(e.xPos,e.yPos,t.minesNearby),n=t.mineExist,s=t.stepped,i=t.flagged;return Object(o.jsx)("div",{className:"\n                cell w3-button w3-border w3-ripple ".concat(function(){var e="";return e=s?e.concat(" stepped"):e.concat(" unstepped")}(),"\n            "),onClick:function(){c()},style:s?{pointerEvents:"none"}:null,children:Object(o.jsx)("span",{className:"cell-content ".concat(function(){var e="";return n&&s&&(e=e.concat(" bomb-img")),i&&(e=e.concat(" flag-img")),e}()),children:0==a||!s||n?null:a})})}function b(e){var t=e.option,c=e.gameStatus,n=e.setGameStatus,s=e.resetMine,b={minesNearby:0,mineExist:!1,stepped:!1,flagged:!1},u=Object(a.useState)(new Array(7).fill(new Array(7).fill(b))),p=Object(i.a)(u,2),O=p[0],d=p[1],m=Object(a.useState)([]),f=Object(i.a)(m,2),x=f[0],h=f[1],v=Object(a.useState)(0),g=Object(i.a)(v,2),w=g[0],y=g[1],N=function(){return Math.floor(7*Math.random())},S=function(){for(var e=[],t=0;t<5;t++){var c=[N(),N()];e.push(c)}return e=Object(l.a)(new Set(e))},E=function(e,t){var c=[t-1,t,t+1],a=[];return[e-1,e,e+1].map((function(n){c.map((function(c){n==e&&c==t||n<0||c<0||n>6||c>6||a.push([n,c])}))})),a},C=function(e,t,c,a){var n=t[c][a];if("mine"==e)return[].concat(Object(l.a)(t.slice(0,c)),[[].concat(Object(l.a)(t[c].slice(0,a)),[Object(r.a)(Object(r.a)({},n),{},{mineExist:!0})],Object(l.a)(t[c].slice(a+1)))],Object(l.a)(t.slice(c+1)));if("mines-nearby"==e){var s=t[c][a].minesNearby;return[].concat(Object(l.a)(t.slice(0,c)),[[].concat(Object(l.a)(t[c].slice(0,a)),[Object(r.a)(Object(r.a)({},n),{},{minesNearby:s+1})],Object(l.a)(t[c].slice(a+1)))],Object(l.a)(t.slice(c+1)))}},k=function(e,t){if(O[e][t].flagged||1==O[e][t].stepped)return O;O[e][t].mineExist&&n("game-over-lost");var c=[];c.push([e,t]),0==O[e][t].minesNearby&&E(e,t).map((function(e){return c.push(e)}));var a=O,s=w;return c.map((function(e){var t=O[e[0]][e[1]];t.flagged||t.stepped||(a=[].concat(Object(l.a)(a.slice(0,e[0])),[[].concat(Object(l.a)(a[e[0]].slice(0,e[1])),[Object(r.a)(Object(r.a)({},t),{},{stepped:!0})],Object(l.a)(a[e[0]].slice(e[1]+1)))],Object(l.a)(a.slice(e[0]+1))),s++)})),y(s),a},P=function(e,t){var c=O[e][t],a=O[e][t].flagged;return O[e][t].stepped?O:[].concat(Object(l.a)(O.slice(0,e)),[[].concat(Object(l.a)(O[e].slice(0,t)),[Object(r.a)(Object(r.a)({},c),{},{flagged:!a})],Object(l.a)(O[e].slice(t+1)))],Object(l.a)(O.slice(e+1)))},A=function(){var e=O;x.map((function(t){var c=O[t[0]][t[1]];e=[].concat(Object(l.a)(e.slice(0,t[0])),[[].concat(Object(l.a)(e[t[0]].slice(0,t[1])),[Object(r.a)(Object(r.a)({},c),{},{stepped:!0,flagged:!1})],Object(l.a)(e[t[0]].slice(t[1]+1)))],Object(l.a)(e.slice(t[0]+1)))})),d(e)};return Object(a.useEffect)((function(){var e=O,t=[],c=S();c.map((function(c){e=C.apply(void 0,["mine",e].concat(Object(l.a)(c))),t.push.apply(t,Object(l.a)(E.apply(void 0,Object(l.a)(c))))})),t.map((function(t){e=C.apply(void 0,["mines-nearby",e].concat(Object(l.a)(t)))})),d(e),h(c)}),[1]),Object(a.useEffect)((function(){"game-over-lost"==c&&A(),w==49-x.length&&(n("game-over-won"),A())}),[c,w]),Object(a.useEffect)((function(){var e=new Array(7).fill(new Array(7).fill(b)),t=[],c=S();c.map((function(c){e=C.apply(void 0,["mine",e].concat(Object(l.a)(c))),t.push.apply(t,Object(l.a)(E.apply(void 0,Object(l.a)(c))))})),t.map((function(t){e=C.apply(void 0,["mines-nearby",e].concat(Object(l.a)(t)))})),d(e),h(c),n("started"),y(0)}),[s]),Object(o.jsx)("div",{className:"mine-field",children:O.map((function(e,c){return Object(o.jsx)("div",{children:e.map((function(e,a){return Object(o.jsx)(j,{boxContent:e,xPos:c,yPos:a,handleClick:function(){return e=c,n=a,"step"==t&&d(k(e,n)),void("flag"==t&&d(P(e,n)));var e,n}})}))})}))})}var u=c(9);function p(e){var t=e.gameStatus,c=e.handleReplay;return Object(o.jsxs)("div",{className:"popup ".concat(t),children:["game-over-lost"==t?"Game Over":"Won",Object(o.jsxs)("div",{className:"popup-buttons",children:[Object(o.jsx)(u.b,{to:"/",children:Object(o.jsx)("button",{className:"w3-margin w3-round-xlarge w3-button w3-ripple",children:"Exit"})}),Object(o.jsx)("button",{className:"w3-margin w3-round-xlarge w3-button w3-ripple",onClick:function(){return c()},children:"replay"})]})]})}function O(){var e=Object(a.useState)("step"),t=Object(i.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)("started"),r=Object(i.a)(s,2),l=r[0],j=r[1],O=Object(a.useState)(!1),d=Object(i.a)(O,2),m=d[0],f=d[1];return Object(o.jsxs)("div",{className:"game-page",children:["started"!=l&&Object(o.jsx)(p,{gameStatus:l,handleReplay:function(){f(!m)}}),Object(o.jsx)("div",{className:"w3-col l12 m12 s12",children:Object(o.jsx)(u.b,{to:"/",children:Object(o.jsx)("a",{href:"/",className:"w3-xxxlarge",style:{height:"100px"},children:Object(o.jsx)("i",{className:"fas fa-long-arrow-alt-left"})})})}),Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{className:"w3-col l8 m8 s12 w3-center",children:Object(o.jsx)(b,{option:c,gameStatus:l,setGameStatus:function(e){return j(e)},resetMine:m})}),Object(o.jsxs)("div",{className:"w3-col l4 m4 s12 options",children:[Object(o.jsx)("div",{className:"w3-col l12 m12 s6",children:Object(o.jsxs)("button",{className:"option  ".concat("step"==c?"selected":""),onClick:function(){return n("step")},children:["Step ",Object(o.jsx)("i",{className:"fas fa-shoe-prints"})]})}),Object(o.jsx)("div",{className:"w3-col l12 m12 s6",children:Object(o.jsxs)("button",{className:"option ".concat("flag"==c?"selected":""),onClick:function(){return n("flag")},children:["Flag ",Object(o.jsx)("i",{className:"far fa-flag"})]})})]})]})]})}function d(){return Object(o.jsxs)("div",{className:"homepage w3-center",children:[Object(o.jsx)("div",{className:"",children:Object(o.jsx)("b",{children:"MINESWEEPER"})}),Object(o.jsx)("div",{children:Object(o.jsx)(u.b,{to:"/game-page",children:Object(o.jsx)("button",{className:"w3-button w3-ripple",children:"Play"})})})]})}var m=c(3);var f=function(){return Object(o.jsx)("div",{className:"App",children:Object(o.jsxs)(m.c,{children:[Object(o.jsx)(m.a,{exact:!0,path:"/game-page",children:Object(o.jsx)(O,{})}),Object(o.jsx)(m.a,{exact:!0,path:"/",children:Object(o.jsx)(d,{})})]})})},x=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,34)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,i=t.getTTFB;c(e),a(e),n(e),s(e),i(e)}))};s.a.render(Object(o.jsx)(u.a,{children:Object(o.jsx)(f,{})}),document.getElementById("root")),x()}},[[33,1,2]]]);
//# sourceMappingURL=main.0e6e6f69.chunk.js.map